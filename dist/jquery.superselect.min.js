!function(t,n,o,e){var a=function(n,o){this.$element=t(n),this.defaults={placeholder:"-请选择-",data:[],url:"",onChange:function(){},onLoadSuccess:function(){},onLoadError:function(){}},this.options=t.extend({},this.defaults,o)};a.prototype={_init:function(){var t=this;t._event(),t.options.url?t._ajaxLoadData():t._output()},_ajaxLoadData:function(){var n=this,o=n.options.url;t.ajax({url:o,dataType:"jsonp",success:function(o){var e=t.map(o,function(t,n){return{value:t,text:n}});n.options.data=e,n._output(),t.proxy(n.options.onLoadSuccess,n)()},error:function(o,e){console.log(o.msg),t.proxy(n.options.onLoadError,n)()}})},_event:function(){var n=this;n.$element&&n.$element.on("change.superselect",t.proxy(function(){t.proxy(n.options.onChange,n.$element)()},n))},_output:function(){var t=this,n=t.options.data;n.unshift({value:"",text:t.options.placeholder}),n.length?t.$element.html(t._getDomList(n)):t.$element.empty()},_getDomList:function(n){var o=[];return t.each(n,function(t,n){var e=['value = "'+n.value+'"'];n.selected&&e.push("selected"),o.push("<option "+e.join(" ")+">"+n.text+"</option>")}),o.join("")}},t.fn.superselect=function(t){var n=new a(this,t);return n._init()}}(jQuery,window,document);