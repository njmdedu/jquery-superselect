!function(t,e,n,o){var a=function(e,n){this.$element=t(e),this.defaults={placeholder:"-请选择-",validate:!1,data:[],url:"",onChange:function(){},onLoadSuccess:function(){},onLoadError:function(){}},this.options=t.extend({},this.defaults,n)};a.prototype={_init:function(){var t=this;return t._event(),t.options.url?t._ajaxLoadData():t._output(),t.options.validate&&setInterval(function(){t._validate()},100),t},_ajaxLoadData:function(){var e=this,n=e.options.url;t.ajax({url:n,dataType:"jsonp",success:function(n){var o=[{value:1212,text:"sss"},{value:1313,text:"aaa"}],a=t.map(o,function(t,e){return{value:t.value,text:t.text}});e.options.data=a,e._output(),t.proxy(e.options.onLoadSuccess,e)()},error:function(n,o){console.log(n.msg),t.proxy(e.options.onLoadError,e)()}})},_event:function(){var e=this;e.$element&&e.$element.on("change.superselect",t.proxy(function(){t.proxy(e.options.onChange,e.$element)()},e))},_output:function(){var t=this,e=t.options.data;e.unshift({value:"",text:t.options.placeholder}),e.length?t.$element.html(t._getDomList(e)):t.$element.empty()},_getDomList:function(e){var n=[];return t.each(e,function(t,e){var o=['value = "'+e.value+'"'];e.selected&&o.push("selected"),n.push("<option "+o.join(" ")+">"+e.text+"</option>")}),n.join("")},_validate:function(){var t=this,e=t.$element.find(":selected").val();e?t.$element.removeClass("has-error"):t.$element.addClass("has-error")},isSelected:function(){var t=this,e=t.$element.find(":selected").val();return!!e}},t.fn.superselect=function(t){var e=new a(this,t);return e._init()}}(jQuery,window,document);